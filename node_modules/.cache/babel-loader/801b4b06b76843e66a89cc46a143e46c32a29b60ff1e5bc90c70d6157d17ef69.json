{"ast":null,"code":"var _jsxFileName = \"/home/muazzam/Desktop/url-shortening-api/src/components/Shortener.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport bgMobile from \"../images/bg-shorten-mobile.svg\";\nimport bgDesktop from \"../images/bg-shorten-desktop.svg\";\n\n//react-toast\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst getLocalStorage = () => {\n  let links = localStorage.getItem(\"links\");\n  if (links) {\n    return JSON.parse(localStorage.getItem(\"links\"));\n  } else {\n    return [];\n  }\n};\nexport default function Shortener() {\n  _s();\n  const [text, setText] = useState(\"\");\n  const [links, setLinks] = useState(getLocalStorage());\n  const [buttonText, setButtonText] = useState(\"Copy\");\n\n  //for validatig a link/url\n  var expression = /[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi;\n  var urlRegex = new RegExp(expression);\n\n  // toastNotify(message) = (message) => toast(message);\n\n  function toastNotify(message) {\n    return toast(message);\n  }\n  const handleSubmit = e => {\n    e.preventDefault();\n    if (!text) {\n      // alert(\"Input is empty\")\n      toastNotify(\"Empty input!, please paste the link you want to shorten\");\n    } else if (!{\n      text\n    }.text.match(urlRegex)) {\n      // alert(\"URL is not valid\")\n      toastNotify(\"URL is not valid\");\n    } else {\n      const shortenLink = async () => {\n        const res = await fetch(`https://api.shrtco.de/v2/shorten?url=${text}`);\n        const data = await res.json();\n        console.log(data.result);\n        setLinks(data.result);\n        setText(\"\");\n      };\n      shortenLink();\n    }\n  };\n  const handleCopy = () => {\n    navigator.clipboard.writeText(links.full_short_link);\n    setButtonText(\"Copied!\");\n  };\n  useEffect(() => {\n    localStorage.setItem(\"links\", JSON.stringify(links));\n  }, [links]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"max-width shortener relative\",\n      children: [/*#__PURE__*/_jsxDEV(\"picture\", {\n        children: [/*#__PURE__*/_jsxDEV(\"source\", {\n          media: \"(min-width: 768px)\",\n          srcSet: bgDesktop\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n          src: bgMobile,\n          alt: \"\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"form\",\n        onSubmit: handleSubmit,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"url\",\n            placeholder: \"Shorten a link here\",\n            className: \"w-full py-2 px-5 rounded-lg mb-2 md:mb-0 md:w-2/3\",\n            value: text,\n            onChange: e => setText(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn-cta rounded-lg w-full md:w-40 md:ml-5\",\n            onClick: handleSubmit,\n            children: \"Shorten It!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col items-center justify-center bg-white text-center md:flex-row md:justify-between p-3 mt-3 rounded-lg shadow\",\n        children: [/*#__PURE__*/_jsxDEV(\"article\", {\n          children: /*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"mb-3 md:mb-0\",\n            children: links.original_link\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"md:flex md:items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              className: \"md:mr-5\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"text-cyan-500\",\n                children: links.full_short_link\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 105,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleCopy,\n                className: \"btn-cta rounded-lg text-sm focus:bg-slate-800\",\n                children: buttonText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ToastContainer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n_s(Shortener, \"0WCKqpqBwn3/lNkSqXp+e6npDG0=\");\n_c = Shortener;\nvar _c;\n$RefreshReg$(_c, \"Shortener\");","map":{"version":3,"names":["useEffect","useState","bgMobile","bgDesktop","ToastContainer","toast","jsxDEV","_jsxDEV","Fragment","_Fragment","getLocalStorage","links","localStorage","getItem","JSON","parse","Shortener","_s","text","setText","setLinks","buttonText","setButtonText","expression","urlRegex","RegExp","toastNotify","message","handleSubmit","e","preventDefault","match","shortenLink","res","fetch","data","json","console","log","result","handleCopy","navigator","clipboard","writeText","full_short_link","setItem","stringify","children","className","media","srcSet","fileName","_jsxFileName","lineNumber","columnNumber","src","alt","onSubmit","type","placeholder","value","onChange","target","onClick","original_link","_c","$RefreshReg$"],"sources":["/home/muazzam/Desktop/url-shortening-api/src/components/Shortener.js"],"sourcesContent":["import { useEffect, useState } from \"react\"\nimport bgMobile from \"../images/bg-shorten-mobile.svg\"\nimport bgDesktop from \"../images/bg-shorten-desktop.svg\"\n\n//react-toast\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst getLocalStorage = () => {\n  let links = localStorage.getItem(\"links\")\n\n  if (links) {\n    return JSON.parse(localStorage.getItem(\"links\"))\n  } else {\n    return []\n  }\n}\n\nexport default function Shortener() {\n  const [text, setText] = useState(\"\")\n  const [links, setLinks] = useState(getLocalStorage())\n  const [buttonText, setButtonText] = useState(\"Copy\")\n\n\n  //for validatig a link/url\n  var expression = /[-a-zA-Z0-9@:%._\\+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_\\+.~#?&//=]*)?/gi;\n  var urlRegex = new RegExp(expression);\n\n  // toastNotify(message) = (message) => toast(message);\n\n  function toastNotify(message) {\n    return toast(message)\n  }\n\n\n  const handleSubmit = (e) => {\n    e.preventDefault()\n\n    if (!text) {\n      // alert(\"Input is empty\")\n      toastNotify(\"Empty input!, please paste the link you want to shorten\")\n\n    } else if (!{ text }.text.match(urlRegex)) {\n\n      // alert(\"URL is not valid\")\n      toastNotify(\"URL is not valid\")\n\n    } else {\n      const shortenLink = async () => {\n        const res = await fetch(`https://api.shrtco.de/v2/shorten?url=${text}`)\n        const data = await res.json()\n        console.log(data.result)\n        setLinks(data.result)\n        setText(\"\")\n      }\n\n      shortenLink()\n    }\n  }\n\n  const handleCopy = () => {\n    navigator.clipboard.writeText(links.full_short_link)\n    setButtonText(\"Copied!\")\n  }\n\n  useEffect(() => {\n    localStorage.setItem(\"links\", JSON.stringify(links))\n  }, [links])\n\n  return (\n    <>\n      <section className=\"max-width shortener relative\">\n        <picture>\n          <source media=\"(min-width: 768px)\" srcSet={bgDesktop} />\n          <img src={bgMobile} alt=\"\" />\n        </picture>\n\n        <form className=\"form\" onSubmit={handleSubmit}>\n          <div className=\"flex flex-col md:flex-row\">\n            <input\n              type=\"url\"\n              placeholder=\"Shorten a link here\"\n              className=\"w-full py-2 px-5 rounded-lg mb-2 md:mb-0 md:w-2/3\"\n              value={text}\n              onChange={(e) => setText(e.target.value)}\n            />\n            <button\n              type=\"submit\"\n              className=\"btn-cta rounded-lg w-full md:w-40 md:ml-5\"\n              onClick={handleSubmit}\n            >\n              Shorten It!\n            </button>\n          </div>\n        </form>\n\n        <div className=\"flex flex-col items-center justify-center bg-white text-center md:flex-row md:justify-between p-3 mt-3 rounded-lg shadow\">\n          <article>\n            <h6 className=\"mb-3 md:mb-0\">{links.original_link}</h6>\n          </article>\n\n          <article>\n            <ul className=\"md:flex md:items-center\">\n              <li className=\"md:mr-5\">\n                <button className=\"text-cyan-500\">\n                  {links.full_short_link}\n                </button>\n              </li>\n              <li>\n                <button\n                  onClick={handleCopy}\n                  className=\"btn-cta rounded-lg text-sm focus:bg-slate-800\"\n                >\n                  {buttonText}\n                </button>\n              </li>\n            </ul>\n          </article>\n        </div>\n      </section>\n      <ToastContainer />\n    </>\n  )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}